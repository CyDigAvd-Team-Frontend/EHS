<mvc:View controllerName="no.mil.zehs.controller.Form" xmlns:f="sap.ui.layout.form" xmlns:layout="sap.ui.layout" xmlns:common="sap.ui.commons" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns:core="sap.ui.core" xmlns="sap.m">
    <Page id="page" title="{i18n>title}" showFooter="true" showNavButton="true" navButtonPress="handleClose">
        <content>
            <VBox class="sapUiResponsiveMargin" renderType="Div">
                <f:SimpleForm
                    id="SimpleFormChange471"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    labelSpanXL="4"
                    labelSpanL="4"
                    labelSpanM="4"
                    labelSpanS="12"
                    adjustLabelSpan="false"
                    emptySpanXL="1"
                    emptySpanL="2"
                    emptySpanM="2"
                    emptySpanS="0"
                    columnsXL="1"
                    columnsL="1"
                    columnsM="1"
                    singleContainerFullSize="false"
                    class="sapUiResponsiveMargin"
                >
                    <f:content>
                        <Toolbar style="Clear" design="Solid" ariaLabelledBy="titleHeader,butGDPR" class="sapUiLargeMarginBottom borderBottom sapUiLargeMarginEnd">
                            <Title id="titleHeader" text="{i18n>InformationTitle}" class="sapUiSmallMarginBottom" />
                            <ToolbarSpacer />
                            <Link href="{i18n>LinkToDataPrivacy}" id="butGDPR" text="{i18n>LinkToDataPrivacyText}" target="_blank" class="sapUiSmallMarginBottom" />
                            <ToolbarSpacer width="0%" />
                        </Toolbar>
                        <!-- Header for Section: Information -->
                        <!-- Title -->
                        <Label id="labelTitle" labelFor="inputTitle" fieldGroupIds="incidentHeader,requiresValidation" text="{i18n>Title}" required="true" />
                        <Input id="inputTitle" fieldGroupIds="incidentHeader" value="{Title}" maxLength="80">
                            <!-- <layoutData>
									<layout:GridData span="XL7 L7 M7 S12"/>
								</layoutData> -->
                        </Input>
                        <Label text="Jeg vil si ifra om" labelFor="segRegA" />
                        <SegmentedButton id="segRegA" >
                            <items>
                            <SegmentedButtonItem icon="sap-icon://home" width="40px"/>
                                <SegmentedButtonItem icon="sap-icon://wounds-doc" text="Skade på liv/person/miljø/materiell" tooltip="Skade på liv/person/miljø/materiell" />
                                <SegmentedButtonItem icon="sap-icon://accidental-leave" text="Hendelse/forhold uten skade" tooltip="Hendelse/forhold uten skade" />
                                <SegmentedButtonItem icon="sap-icon://hide" text="Kritikkverdig forhold" tooltip="Kritikkverdig forhold" />
                                <!--  -->
                            </items>
                        </SegmentedButton>
                        <!-- What do you want to register_ -->
                        <Label labelFor="inputIsCriticalRel" text="Si fra om kritikkverdig forhold (varsle)?" />
                        <Switch id="inputIsCriticalRel" state="{initModel>/bIsCriticalRel}" customTextOn="{i18n>Yes}" customTextOff="{i18n>No}" change="onChangeCrtical">
                            <layoutData>
                                <layout:GridData span="XL6 L6 M6 S11" />
                            </layoutData>
                        </Switch>
                        <Button type="Transparent" icon="sap-icon://sys-help-2" text="{i18n>Help}" press="onBtnHintPressed" ariaLabelledBy="defaultHint" ariaDescribedBy="defaultHint">
                            <layoutData>
                                <layout:GridData span="XL1 L1 M1 S1" />
                            </layoutData>
                        </Button>
                        <!-- Si fra om personskade? -->
                        <Label labelFor="inputIsPersonWound" text="Si fra om personskade?" visible="{= ${initModel>/bIsCriticalRel} ? false : true }" />
                        <Switch id="inputIsPersonWound" state="{initModel>/bIsPersonWound}" customTextOn="{i18n>Yes}" customTextOff="{i18n>No}" visible="{= ${initModel>/bIsCriticalRel} ? false : true }">
                            <layoutData>
                                <layout:GridData span="XL6 L6 M6 S11" />
                            </layoutData>
                        </Switch>
                        <Button type="Transparent" icon="sap-icon://sys-help-2" text="{i18n>Help}" press="onBtnHintPressed" ariaLabelledBy="defaultHint" ariaDescribedBy="defaultHint" visible="{= ${initModel>/bIsCriticalRel} ? false : true }">
                            <layoutData>
                                <layout:GridData span="XL1 L1 M1 S1" />
                            </layoutData>
                        </Button>
                        <!-- Si fra om skade på miljø eller eiendom? -->
                        <Label labelFor="inputIsMateriel" text="Si fra om skade på miljø eller eiendom?" visible="{= ${initModel>/bIsCriticalRel} ? false : true }" />
                        <Switch id="inputIsMateriel" state="{initModel>/bIsEnvironmentEstate}" customTextOn="{i18n>Yes}" customTextOff="{i18n>No}" visible="{= ${initModel>/bIsCriticalRel} ? false : true }">
                            <layoutData>
                                <layout:GridData span="XL6 L6 M6 S11" />
                            </layoutData>
                        </Switch>
                        <Button type="Transparent" icon="sap-icon://sys-help-2" text="{i18n>Help}" press="onBtnHintPressed" ariaLabelledBy="defaultHint" ariaDescribedBy="defaultHint" visible="{= ${initModel>/bIsCriticalRel} ? false : true }">
                            <layoutData>
                                <layout:GridData span="XL1 L1 M1 S1" />
                            </layoutData>
                        </Button>
                        <!-- Si fra om skade på  materiell
 -->
                        <Label labelFor="inputIsEnvironmentEstate" text="Si fra om skade på  materiell?" visible="{= ${initModel>/bIsCriticalRel} ? false : true }" />
                        <Switch id="inputIsEnvironmentEstate" state="{initModel>/bIsMateriel}" customTextOn="{i18n>Yes}" customTextOff="{i18n>No}" visible="{= ${initModel>/bIsCriticalRel} ? false : true }">
                            <layoutData>
                                <layout:GridData span="XL6 L6 M6 S11" />
                            </layoutData>
                        </Switch>
                        <Button type="Transparent" icon="sap-icon://sys-help-2" text="{i18n>Help}" press="onBtnHintPressed" ariaLabelledBy="defaultHint" ariaDescribedBy="defaultHint" visible="{= ${initModel>/bIsCriticalRel} ? false : true }">
                            <layoutData>
                                <layout:GridData span="XL1 L1 M1 S1" />
                            </layoutData>
                        </Button>

                        <!-- Segmented button different  -->
                        <Label text="Si ifra om" />
                        <SegmentedButton selectedKey="1" visible="{= ${initModel>/bIsCriticalRel} ? false : true }">
                            <items>
                                <SegmentedButtonItem key="1" text="" visible="false" />
                                <SegmentedButtonItem text="Nestenulykke" />
                                <SegmentedButtonItem text="Avvik" />
                                <SegmentedButtonItem text="Observasjon " />
                            </items>
                        </SegmentedButton>

                        <!-- Description of Events -->
                        <Label id="labelDescription" labelFor="inputDescription" fieldGroupIds="incidentHeader,requiresValidation" text="{i18n>DescriptionOfEvents}" required="true" />
                        <TextArea id="inputDescription" fieldGroupIds="incidentHeader" value="{DescText}" growingMaxLines="30" rows="6" cols="50" growing="true" width="100%" placeholder="{i18n>DescriptionOfEventsHelpDescription}">
                            <layoutData>
                                <layout:GridData span="XL6 L6 M6 S11" />
                            </layoutData>
                        </TextArea>
                        <Button type="Transparent" icon="sap-icon://sys-help-2" text="{i18n>Help}" press="onBtnHintPressed" ariaLabelledBy="defaultHint" ariaDescribedBy="defaultHint">
                            <layoutData>
                                <layout:GridData span="XL1 L1 M1 S1" />
                            </layoutData>
                        </Button>
                        <core:InvisibleText id="defaultHint" text="{i18n>Help}" />
                        <!-- Strakstiltak  -->
                        <Label id="labelImDesc" labelFor="inputImDesc" fieldGroupIds="incidentHeader,requiresValidation" text="{i18n>ImDescOfEvents}" required="false" />
                        <TextArea id="inputImDesc" fieldGroupIds="incidentHeader" value="{DescText}" growingMaxLines="30" rows="2" cols="50" growing="true" width="100%" placeholder="">
                            <layoutData>
                                <layout:GridData span="XL6 L6 M6 S11" />
                            </layoutData>
                        </TextArea>
                        <Button type="Transparent" icon="sap-icon://sys-help-2" text="{i18n>Help}" press="onBtnHintPressed" ariaLabelledBy="defaultHint" ariaDescribedBy="defaultHint">
                            <layoutData>
                                <layout:GridData span="XL1 L1 M1 S1" />
                            </layoutData>
                        </Button>
                        <core:InvisibleText id="defaultHintImd" text="{i18n>Help}" />
                        <!-- ENd Strakstiltak  -->
                        <!-- When did it happen ? -->
                        <Label id="labelDateOrPeriod" labelFor="inputDateOrPeriod" text="{i18n>DateOrPeriod}" required="true" />

                        <!-- Date -->
                        <VBox>
                            <DatePicker id="inputDate" fieldGroupIds="incidentHeader" value="{ path: 'StartDate', type: 'sap.ui.model.type.Date', formatOptions: { strictParsing: true, UTC: true } }" visible="{= ${initModel>/sDateOrPeriod} === 'date' ? true : false }" />
                            <DateRangeSelection
                                id="inputPeriod"
                                fieldGroupIds="incidentHeader"
                                dateValue="{ path: 'StartDate', formatOptions: { strictParsing: true, UTC: false } }"
                                secondDateValue="{ path: 'EndDate', formatOptions: { strictParsing: true, UTC: false } }"
                                visible="{= ${initModel>/sDateOrPeriod} === 'period' ? true : false }"
                            />
                        </VBox>
                        <Button type="Ghost" icon="sap-icon://fob-watch" text="{i18n>Today}" press="onBtnTodayPressed" ariaLabelledBy="defaultHint" ariaDescribedBy="defaultHint">
                            <layoutData>
                                <layout:GridData span="XL1 L1 M1 S1" />
                            </layoutData>
                            <customData>
                                <!-- Custom Data which controls the texts and element the popover help shall be displayed for -->
                                <core:CustomData key="elmentIdForPopoverHelp" value="inputDescription" />
                                <core:CustomData key="i18nAliasForHintHeader" value="DescriptionOfEventsHelpTitle" />
                                <core:CustomData key="i18nAliasForHintTextHtml" value="DescriptionOfEventsHelpHtml" />
                            </customData>
                        </Button>
                        <SegmentedButton id="inputDateOrPeriod" width="100%" selectedKey="{initModel>/sDateOrPeriod}">
                            <items>
                                <SegmentedButtonItem text="{i18n>Date}" key="date" />
                                <SegmentedButtonItem text="{i18n>Period}" key="period" />
                            </items>
                            <layoutData>
                                <layout:GridData span="XL2 L2 M2 S12" />
                            </layoutData>
                            <customData>
                                <!-- Custom Data which controls the texts and element the popover help shall be displayed for -->
                                <core:CustomData key="elmentIdForPopoverHelp" value="inputDescription" />
                                <core:CustomData key="i18nAliasForHintHeader" value="DescriptionOfEventsHelpTitle" />
                                <core:CustomData key="i18nAliasForHintTextHtml" value="DescriptionOfEventsHelpHtml" />
                            </customData>
                        </SegmentedButton>

                        <!-- On behalf of: No/Yes -->
                        <Label id="labelIsOnBehalfOf" labelFor="inputIsOnBehalfOf" text="{i18n>OnBehalfOf}" visible="{initModel>/bIsCriticalRel}" />
                        <Switch id="inputIsOnBehalfOf" state="{initModel>/bIsOnBehalfOf}" customTextOn="{i18n>Yes}" customTextOff="{i18n>No}" visible="{initModel>/bIsCriticalRel}" />

                        <Label id="labelIsInvolved" labelFor="inputIsInvolved" text="{i18n>OnInvolved}" visible="{initModel>/bIsCriticalRel}" />
                        <Switch id="inputIsInvolved" state="{initModel>/bIsInvolved}" customTextOn="{i18n>Yes}" customTextOff="{i18n>No}" visible="{initModel>/bIsCriticalRel}" />

                        <core:Fragment fragmentName="no.mil.zehs.view.fragments.Form.OnBehalf" type="XML" />

                        <!-- Andre involverte , vitner mv -->

                        <core:Fragment fragmentName="no.mil.zehs.view.fragments.Form.Involved" type="XML" />

                        <!-- Personskade -->
                        <core:Fragment fragmentName="no.mil.zehs.view.fragments.Form.PersonWound" type="XML" />

                        <!-- Si fra om skade på miljø eller eiendom -->
                        <core:Fragment fragmentName="no.mil.zehs.view.fragments.Form.EstateEnvironmentDmg" type="XML" />

                        <!-- Si fra om skade på materiell -->
                        <core:Fragment fragmentName="no.mil.zehs.view.fragments.Form.Material" type="XML" />

                        <Toolbar style="Clear" design="Solid" ariaLabelledBy="titleAttachment" class="borderBottom sapUiLargeMarginEnd">
                            <Title id="titleAttachment" text="{i18n>Attachment}" />
                        </Toolbar>
                    </f:content>
                </f:SimpleForm>
                <!-- Attachment Documents -->
                <core:Fragment fragmentName="no.mil.zehs.view.fragments.Form.Attachment" type="XML" />
            </VBox>
        </content>
        <footer>
            <Toolbar>
                <ToolbarSpacer />
                <Button type="Ghost" text="{i18n>Abort}" press="onPressAbort" />
                <Button type="Emphasized" text="{i18n>Send}" class="sapUiTinyMarginEnd" />
            </Toolbar>
        </footer>
    </Page>
</mvc:View>
