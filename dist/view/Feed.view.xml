<mvc:View
    xmlns:core="sap.ui.core"
    controllerName="no.mil.zehs.controller.Feed"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:tnt="sap.tnt"
    xmlns:com="sap.suite.ui.commons"
    xmlns:f="sap.f"
>
    <NavContainer id="navCon">
        <Page
            id="page2"
            title="Personer i saken"
        >
            <headerContent>
                <Toolbar id="_IDGenToolbar2">
                    <ToolbarSpacer id="_IDGenToolbarSpacer2" />
                    <OverflowToolbarButton
                        id="_IDGenOverflowToolbarButton2"
                        type="Transparent"
                        icon="sap-icon://decline"
                        press="handleClose"
                        class="sapUiTinyMarginBottom"
                    />
                </Toolbar>
            </headerContent>

            <Table
                id="List"
                items="{FeedModel>/}"
            >
                <columns>
                    <Column id="_IDGenColumn1">
                        <Text
                            id="_IDGenText1"
                            text="Navn"
                        />
                    </Column>
                    <Column id="_IDGenColumn2">
                        <Text
                            id="_IDGenText2"
                            text=""
                        />
                    </Column>
                </columns>
                <ColumnListItem id="_IDGenColumnListItem1">
                    <cells>
                        <Text
                            id="_IDGenText3"
                            text="{FeedModel>Navn}"
                        />
                        <Button
                            icon="sap-icon://discussion"
                            press="navPage"
                            type="Ghost"
                        >
                            <customData>
                                <core:CustomData value="{FeedModel>ID}" />
                            </customData>
                        </Button>
                    </cells>
                </ColumnListItem>
            </Table>
        </Page>
        <Page
            id="page"
            title="{i18n>Communication}"
            showNavButton="{= ${FeedModel>/}.length > 1 ? true :  false}"
            navButtonPress="navToList"
        >
            <headerContent>
                <Toolbar id="_IDGenToolbar1">
                    <ToolbarSpacer id="_IDGenToolbarSpacer1" />
                    <OverflowToolbarButton
                        id="_IDGenOverflowToolbarButton1"
                        type="Transparent"
                        icon="sap-icon://decline"
                        press="handleClose"
                        class="sapUiTinyMarginBottom"
                    />
                </Toolbar>
            </headerContent>
            <FeedInput
                id="_IDGenFeedInput1"
                post="onPostFeed"
                class="sapUiSmallMarginTopBottom"
                placeholder="{i18n>InputPlaceholder}"
            />

            <com:Timeline
                id="idTimeline"
                enableDoubleSided="true"
                groupBy="HireDate"
                growingThreshold="0"
                filterTitle="Job Title"
                sortOldestFirst="true"
                content="{TimelineModel>/Kommentar}"
                showHeaderBar="false"
                noDataText="{i18n>TimelineNoData}"
            >
                <com:content>
                    <com:TimelineItem
                        id="idTemplateItem"
                        text="{TimelineModel>text}"
                        userName="{TimelineModel>Author}"
                        title="{TimelineModel>Title}"
                        icon="{TimelineModel>icon}"
                        dateTime="{TimelineModel>Date}"
                    />
                </com:content>
            </com:Timeline>
            <content />
        </Page>
    </NavContainer>
</mvc:View>
