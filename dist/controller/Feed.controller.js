sap.ui.define(["no/mil/zehs/controller/Base"],function(e){"use strict";return e.extend("no.mil.zehs.controller.Feed",{onInit:function(e){this.getView().addStyleClass(this.getContentDensityClass());this.oRouter=this.getRouter().getRoute("Feed");this.oRouter.attachPatternMatched(this.onRouteMatched,this);this.oRouter=this.getRouter().getRoute("Doc");this.oRouter.attachPatternMatched(this.onRouteMatchedDoc,this)},onRouteMatchedDoc:function(e){this.onRouteMatched(e);this.getView().byId("idIconTabBarFiori2").setSelectedKey("documentationFilter")},onRouteMatched:function(e){var t=Number(e.getParameter("arguments").ID);this.getModel("initModel").setProperty("/UrlID",t);var o=this.getModel("ListModel").getData().find(e=>e.ID===t);this.getModel("FeedModel").setData(o.Personer);this.getModel("FeedModel").refresh();this.getModel("layoutModel").setProperty("/layout","TwoColumnsBeginExpanded");if(o.Personer.length===1){var i=this.getModel("FeedModel").getProperty("/0");this.getModel("initModel").setProperty("/Path",i.ID);this.getModel("TimelineModel").setData(i);this.getModel("TimelineModel").refresh();this.byId("navCon").to(this.byId("page"))}else{this.byId("navCon").to(this.byId("page2"))}this.getView().byId("idIconTabBarFiori2").setSelectedKey("chatFilter")},onPostFeed:function(e){var t=this.getModel("TimelineModel").getProperty("/Kommentar");t.unshift({text:e.getSource().getValue(),Author:"Lars",icon:"sap-icon://employee",Title:"Varsler",Date:new Date});this.getModel("TimelineModel").refresh();var o=this.getModel("initModel").getProperty("/Path");var i=this.getModel("FeedModel").getData().find(e=>e.ID===o);i.Kommentar=t;var a=this.getModel("initModel").getProperty("/UrlID");var n=this.getModel("ListModel").getData().find(e=>e.ID===a);var s=n.Personer.find(e=>e.ID===o);s.Kommentar=t},navPage:function(e){var t=e.getSource().getCustomData()[0].getValue();var o=this.getModel("FeedModel").getData().find(e=>e.ID===t);this.getModel("TimelineModel").setData(o);this.getModel("TimelineModel").refresh();this.getModel("initModel").setProperty("/Path",o.ID);this.byId("navCon").to(this.byId("page"))},navToList:function(e){this.byId("navCon").to(this.byId("page2"),"fade")},handleClose:function(){this.getRouter().navTo("RouteMain")}})});
//# sourceMappingURL=Feed.controller.js.map