sap.ui.define(["no/mil/zehs/controller/Base"],function(e){"use strict";return e.extend("no.mil.zehs.controller.Form",{onInit:function(){this.getView().addStyleClass(this.getContentDensityClass());this.oRouter=this.getRouter().getRoute("Form");this.oRouter.attachPatternMatched(this.onRouteMatched,this)},onRequestWoundLoc:function(){if(!this._diaHumanBody){this._diaHumanBody=sap.ui.xmlfragment(this.getView().getId(),"no.mil.zehs.view.fragments.dialogs.HumanMap",this);this.getView().addDependent(this._diaHumanBody);this.resizeHandlerId=this.ResizeHandler.register(this._diaHumanBody,this.onDialogResize.bind(this))}this._diaHumanBody.open()},onExit:function(){},onDialogResize:function(e){imageMapResize()},onAfterCloseHumanMap:function(){this._diaHumanBody.destroy();this._diaHumanBody=null;if(this.resizeHandlerId){this.ResizeHandler.deregister(this.resizeHandlerId)}},onRouteMatched:function(e){this.getModel("layoutModel").setProperty("/layout","OneColumn");if(this._diaHumanBody&&this._diaHumanBody.isOpen()){this._diaHumanBody.close();this.byId("inWoundLoc").setValue(e.getParameter("arguments").injury);console.log(e.getParameter("arguments").injury);this.getRouter().initialize(true)}},handleClose:function(){this.getRouter().navTo("RouteMain",{},true)},onPressAbort:function(){this.handleClose()},onSelectionChangeType:function(e){let t=e.getParameter("changedItem").getText(),n=e.getParameter("selected");if(t==="Personskade"){this.getModel("initModel").setProperty("/Personskade",n)}},onChangeCrtical:function(e){var t=e.getSource().getState();var n=this.getModel("initModel");if(!t){return}n.setProperty("/bIsMateriel",false);n.setProperty("/bIsPersonWound",false);n.setProperty("/bIsEnvironmentEstate",false)},onBtnTodayPressed:function(e){this.byId("inputPeriod").setDateValue(new Date);this.byId("inputDate").setDateValue(new Date)},onSelChangeRegIncident:function(e){let t=e.getSource(),n=e.getParameter("item"),i=n.getKey(),s=this.getModel("initModel"),o=s.getProperty("/regIncidentCat/");s.setProperty("/bIncWithOutDMG",false);s.setProperty("/bIsMateriel",false);s.setProperty("/bIsPersonWound",false);s.setProperty("/bIsEnvironmentEstate",false);s.setProperty("/bIncSickEks",false);if(Number(i)===o[1].code){}else if(Number(i)===o[2].code){s.setProperty("/bIncSickEks",true);s.setProperty("/selClassification",0)}else if(Number(i)===o[3].code){s.setProperty("/bIncWithOutDMG",true)}},onSelChangeRegSickEks:function(e){let t=e.getSource(),n=e.getParameter("item"),i=n.getKey(),s=this.getModel("initModel"),o=s.getProperty("/regIncidentCat/");debugger;s.setProperty("/bIsPersonWound",true)},onChangePersonWound:function(){var e=this.getModel("initModel");e.setProperty("/selClassification",3)},onChangeCrit:function(e){var t=e.getSource().getState(),n=this.getModel("initModel");if(t){n.setProperty("/bregIncidentCatShow",false)}else{n.setProperty("/bregIncidentCatShow",true)}n.setProperty("/bIncWithOutDMG",false);n.setProperty("/bIsMateriel",false);n.setProperty("/bIsPersonWound",false);n.setProperty("/bIsEnvironmentEstate",false);n.setProperty("/bIncSickEks",false)}})});
//# sourceMappingURL=Form.controller.js.map