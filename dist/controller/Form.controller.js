sap.ui.define(["no/mil/zehs/controller/Base"],function(e){"use strict";return e.extend("no.mil.zehs.controller.Form",{onInit:function(){this.getView().addStyleClass(this.getContentDensityClass());this.oRouter=this.getRouter().getRoute("Form");this.oRouter.attachPatternMatched(this.onRouteMatched,this)},onRequestWoundLoc:function(){if(!this._diaHumanBody){this._diaHumanBody=sap.ui.xmlfragment(this.getView().getId(),"no.mil.zehs.view.fragments.dialogs.HumanMap",this);this.getView().addDependent(this._diaHumanBody);this.resizeHandlerId=this.ResizeHandler.register(this._diaHumanBody,this.onDialogResize.bind(this))}this._diaHumanBody.open()},onExit:function(){},onDialogResize:function(e){imageMapResize()},onAfterCloseHumanMap:function(){this._diaHumanBody.destroy();this._diaHumanBody=null;if(this.resizeHandlerId){this.ResizeHandler.deregister(this.resizeHandlerId)}},onRouteMatched:function(e){this.getModel("layoutModel").setProperty("/layout","OneColumn");if(this._diaHumanBody&&this._diaHumanBody.isOpen()){this._diaHumanBody.close();this.byId("inWoundLoc").setValue(e.getParameter("arguments").injury);console.log(e.getParameter("arguments").injury);this.getRouter().initialize(true)}},handleClose:function(){this.getRouter().navTo("RouteMain",{},true)},onPressAbort:function(){this.handleClose()},onSelectionChangeType:function(e){let t=e.getParameter("changedItem").getText(),i=e.getParameter("selected");if(t==="Personskade"){this.getModel("initModel").setProperty("/Personskade",i)}},onChangeCrtical:function(e){var t=e.getSource().getState();var i=this.getModel("initModel");if(!t){return}i.setProperty("/bIsMateriel",false);i.setProperty("/bIsPersonWound",false);i.setProperty("/bIsEnvironmentEstate",false)},onBtnTodayPressed:function(e){this.byId("inputPeriod").setDateValue(new Date);this.byId("inputDate").setDateValue(new Date)},onSelChangeRegIncident:function(e){let t=e.getSource(),i=e.getParameter("item"),n=i.getKey(),o=this.getModel("initModel"),s=o.getProperty("/regIncidentCat/");o.setProperty("/bIncWithOutDMG",false);o.setProperty("/bIsMateriel",false);o.setProperty("/bIsPersonWound",false);o.setProperty("/bIsEnvironmentEstate",false);o.setProperty("/bIncSickEks",false);if(Number(n)===s[1].code){o.setProperty("/bIsPersonWound",true)}else if(Number(n)===s[2].code){o.setProperty("/bIncSickEks",true);o.setProperty("/selClassification",0)}else if(Number(n)===s[3].code){o.setProperty("/bIncWithOutDMG",true)}},onSelChangeRegSickEks:function(e){let t=e.getSource(),i=e.getParameter("item"),n=i.getKey(),o=this.getModel("initModel"),s=o.getProperty("/regIncidentCat/");debugger;o.setProperty("/bIsPersonWound",true)},onChangePersonWound:function(){var e=this.getModel("initModel");e.setProperty("/selClassification",3)},onChangeCrit:function(e){var t=e.getSource().getState(),i=this.getModel("initModel");if(t){i.setProperty("/bIncWithOutDMG",false)}else{i.setProperty("/bIncWithOutDMG",true)}}})});
//# sourceMappingURL=Form.controller.js.map